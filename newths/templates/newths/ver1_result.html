{% extends 'base.html' %}
{% load static %}


<!DOCTYPE html>

<html lang="en">
{% block content %}
    <head>
        <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <!--    <link rel= "stylesheet" type="text/css" href="{% static 'css/ver1_result.css' %}">-->
{#        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>#}
{#        <canvas id="radar-chart" width="250" height="250"></canvas>#}

        <meta charset="UTF-8">

        <style>
            img {
            display: block; margin: 0px auto;
            max-width:10%; max-height:10%;
            }
            h1 { text-align: center; color: white;}
            h2 { text-align: center; }
            h3 { text-align: center; }
        </style>
    </head>


    <body>


        <div style="background-color:#212F3D;">
            <h2 style="color: white; text-align: center; margin-bottom: 20px">Ï≤´ Î≤àÏß∏ Ï∂îÏ≤ú Îß•Ï£ºÎäî {{ result.0 }} ÏûÖÎãàÎã§.</h2>
        </div>

        <img src="static/beer_img/{{ result.0 }}.jpg" alt="ÏÇ¨ÏßÑÏùÄ ÏàòÏßëÏ§ëÏûÖÎãàÎã§üò¢">
        <h2> Ï∂îÏ≤ú Îß•Ï£º Ïú†Ìòï </h2>
        <h3>{{ category.0 }}</h3>
        <h2>Ïñ¥Ïö∏Î¶¨Îäî ÏöîÎ¶¨</h2>
        <h3>{{ food.0 }}</h3>
        <div id='myDiv'></div>
        <script>
            var data = JSON.parse("{{ targetJson|escapejs }}")
            data = [
              {
              type: 'scatterpolar',
              r: data['cluster3'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Good',
              marker : { color : 'salmon'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster2'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'SoSo',
              marker : { color : 'blue'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster1'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Sad',
              marker : { color : 'skyblue'}
              },
              {
              type: 'scatterpolar',
              r: data['beer_cluster1'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: data['beer_name'][0],
              marker : { color : 'green'}
              },
            ]

            layout = {
              polar: {
                radialaxis: {
                  visible: true,
                  range: [0, 1]
                }
              },
              title: {
                text:'Ï∂îÏ≤ú Îß•Ï£º ÌÅ¥Îü¨Ïä§ÌÑ∞ Ïú†Ìòï',
                font: {
                  size: 24
                },
                x : 0.47
              }
            }

        Plotly.newPlot("myDiv", data, layout)
        </script>

{#        <div id='line1'></div>#}
{#        <script>#}
{#            var data = JSON.parse("{{ targetJson|escapejs }}")#}
{##}
{#            var trace1 = {#}
{#              x: data['tmp_year'][0],#}
{#              y: data['tmp_ratings'][0],#}
{#              type: 'scatter'#}
{#            }#}
{##}
{#            var result = [trace1];#}
{##}
{#            layout = {#}
{#              title: {#}
{#                text:'Ï∂îÏ≤ú Îß•Ï£ºÏùò Ïó∞ÎèÑÎ≥Ñ ÌèâÏ†ê Ìä∏Î†åÎìú',#}
{#                font: {#}
{#                  size: 24#}
{#                },#}
{#                x : 0.5#}
{#              }#}
{#            }#}
{#            Plotly.newPlot('line1', result, layout);#}
{#        </script>#}

        <div style="background-color:#212F3D;">
            <h2 style="color: white; text-align: center; margin-bottom: 20px">Îëê Î≤àÏß∏ Ï∂îÏ≤ú Îß•Ï£ºÎäî {{ result.1 }} ÏûÖÎãàÎã§.</h2>
        </div>

            <img src="static/beer_img/{{ result.1 }}.jpg" alt="ÏÇ¨ÏßÑÏùÄ ÏàòÏßëÏ§ëÏûÖÎãàÎã§üò¢">

        <h2> Ï∂îÏ≤ú Îß•Ï£º Ïú†Ìòï </h2>
        <h3>{{ category.1 }}</h3>
        <h2>Ïñ¥Ïö∏Î¶¨Îäî ÏöîÎ¶¨</h2>
        <h3>{{ food.1 }}</h3>
        <div id='myDiv2'></div>
        <script>
            var data = JSON.parse("{{ targetJson|escapejs }}")

            data = [
              {
              type: 'scatterpolar',
              r: data['cluster3'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Good',
              marker : { color : 'salmon'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster2'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'SoSo',
              marker : { color : 'blue'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster1'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Sad',
              marker : { color : 'skyblue'}
              },
              {
              type: 'scatterpolar',
              r: data['beer_cluster2'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: data['beer_name'][1],
              marker : { color : 'green'}
              }
            ]

            layout = {
              polar: {
                radialaxis: {
                  visible: true,
                  range: [0, 1]
                }
              },
              title: {
                text:'Ï∂îÏ≤ú Îß•Ï£º ÌÅ¥Îü¨Ïä§ÌÑ∞ Ïú†Ìòï',
                font: {
                  size: 24
                },
                x : 0.47
              }
            }

        Plotly.newPlot("myDiv2", data, layout)
        </script>

        <div id='line2'></div>
{#        <script>#}
{#            var data = JSON.parse("{{ targetJson|escapejs }}")#}
{##}
{#            var trace1 = {#}
{#              x: data['tmp_year'][1],#}
{#              y: data['tmp_ratings'][1],#}
{#              type: 'scatter'#}
{#            }#}
{##}
{#            var result = [trace1];#}
{##}
{#            layout = {#}
{#                title: {#}
{#                text:'Ï∂îÏ≤ú Îß•Ï£ºÏùò Ïó∞ÎèÑÎ≥Ñ ÌèâÏ†ê Ìä∏Î†åÎìú',#}
{#                font: {#}
{#                  size: 24#}
{#                },#}
{#                x : 0.5#}
{#                }#}
{#            }#}
{#            Plotly.newPlot('line2', result, layout);#}
{#        </script>#}


        <div style="background-color:#212F3D;">
            <h2 style="color: white; text-align: center; margin-bottom: 20px">ÏÑ∏ Î≤àÏß∏ Ï∂îÏ≤ú Îß•Ï£ºÎäî {{ result.2 }} ÏûÖÎãàÎã§.</h2>

        </div>

            <img src="static/beer_img/{{ result.2 }}.jpg" alt="ÏÇ¨ÏßÑÏùÄ ÏàòÏßëÏ§ëÏûÖÎãàÎã§üò¢">

        <h2> Ï∂îÏ≤ú Îß•Ï£º Ïú†Ìòï </h2>
        <h3>{{ category.2 }}</h3>
        <h2>Ïñ¥Ïö∏Î¶¨Îäî ÏöîÎ¶¨</h2>
        <h3>{{ food.2 }}</h3>
        <div id='myDiv3'></div>
        <script>
            var data = JSON.parse("{{ targetJson|escapejs }}")

            data = [
              {
              type: 'scatterpolar',
              r: data['cluster3'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Good',
              marker : { color : 'salmon'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster2'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'SoSo',
              marker : { color : 'blue'}
              },
              {
              type: 'scatterpolar',
              r: data['cluster1'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: 'Sad',
              marker : { color : 'skyblue'}
              },
              {
              type: 'scatterpolar',
              r: data['beer_cluster3'],
              theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
              fill: 'toself',
              name: data['beer_name'][2],
              marker : { color : 'green'}
              },
            ]

            layout = {
              polar: {
                radialaxis: {
                  visible: true,
                  range: [0, 1]
                }
              },
              title: {
                text:'Ï∂îÏ≤ú Îß•Ï£º ÌÅ¥Îü¨Ïä§ÌÑ∞ Ïú†Ìòï',
                font: {
                  size: 24
                },
                x : 0.47
              }
            }

        Plotly.newPlot("myDiv3", data, layout)
        </script>

{#        <div id='line3'></div>#}
{#        <script>#}
{#            var data = JSON.parse("{{ targetJson|escapejs }}")#}
{##}
{#            var trace1 = {#}
{#              x: data['tmp_year'][2],#}
{#              y: data['tmp_ratings'][2],#}
{#              type: 'scatter'#}
{#            }#}
{##}
{#            var result = [trace1];#}
{##}
{#            layout = {#}
{#              title: {#}
{#                text:'Ï∂îÏ≤ú Îß•Ï£ºÏùò Ïó∞ÎèÑÎ≥Ñ ÌèâÏ†ê Ìä∏Î†åÎìú',#}
{#                font: {#}
{#                  size: 24#}
{#                },#}
{#                x : 0.5#}
{#              }#}
{#            }#}
{#            Plotly.newPlot('line3', result, layout);#}
{#        </script>#}

    </body>
</html>
{% endblock %}
